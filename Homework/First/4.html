<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <style>
        .wrapper {
            background-color: red;
            width: 250px;
            height: 250px;
        }

        .autos {
            background-color: #ccc;
           /* display: flex;
           gap: 20px; */
        }

        .autoCard {
            background-color: green;
            width: 250px;
        }
    </style>
    <script>
        const div = document.createElement('div');
        div.classList.add('wrapper')
        const body = document.body
        body.appendChild(div)


        const generateAutoCard = (brand, color, year) => {
            return `
            <div class="autoCard">
              <h2>${brand} ${year}</h2>
              <p>Автомобиль ${brand} - ${year} года. Возраст авто - ${2022 - year} лет.</p>
              <button type='button' class='btn'>Удалить</button>
            </div>
            `
        }

        const divForAutos = document.createElement('div');
        divForAutos.classList.add('autos')

        const carsList = [{
                brand: 'Tesla',
                year: 2015,
                color: 'Красный'
            },
            {
                brand: 'Lexus',
                year: 2016,
                color: 'Серебристый'
            },
            {
                brand: 'Nissan',
                year: 2012,
                color: 'Черный'
            },
        ]

        const carsInfo = carsList.map(car => {
            return generateAutoCard(car.brand, car.color, car.year)
        }).join(' ')

        divForAutos.innerHTML = carsInfo
        div.insertAdjacentElement('beforebegin', divForAutos);

        const allBtns = document.querySelectorAll('.btn')

        function btnDelete(e) {
            const currentButton = e.currentTarget;
            currentButton.closest('.autoCard').remove()
        }

        allBtns.forEach(button => {
            button.addEventListener('click', btnDelete);
        })
    </script>
</body>

</html>